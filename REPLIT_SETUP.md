# راهنمای راه‌اندازی در Replit

این راهنما به شما کمک می‌کند تا برنامه Fashion AI Photoshoot را در Replit اجرا کنید.

## مرحله 1️⃣: ایجاد پروژه Supabase

1. به آدرس https://supabase.com بروید و یک حساب کاربری بسازید (اگر ندارید)
2. روی **New Project** کلیک کنید
3. یک نام برای پروژه انتخاب کنید (مثلاً: `fashion-ai-photoshoot`)
4. یک رمز عبور قوی برای دیتابیس تعیین کنید
5. منطقه (Region) را انتخاب کنید (نزدیک‌ترین منطقه به خودتان)
6. روی **Create new project** کلیک کنید
7. صبر کنید تا پروژه ساخته شود (حدود 2 دقیقه)

## مرحله 2️⃣: دریافت کلیدهای Supabase

1. در داشبورد Supabase، به **Project Settings** (تنظیمات پروژه) بروید
2. از منوی سمت چپ، روی **API** کلیک کنید
3. دو مقدار زیر را کپی کنید:
   - **Project URL** (آدرس پروژه)
   - **anon/public key** (کلید عمومی)

## مرحله 3️⃣: فعال‌سازی احراز هویت ایمیل

1. در داشبورد Supabase، به **Authentication** بروید
2. از منوی سمت چپ، روی **Providers** کلیک کنید
3. روی **Email** کلیک کنید
4. مطمئن شوید که گزینه **Enable Email provider** فعال است ✅
5. روی **Save** کلیک کنید

## مرحله 4️⃣: دریافت کلید Google Gemini

1. به آدرس https://aistudio.google.com/app/apikey بروید
2. روی **Create API key** کلیک کنید
3. API key را کپی کنید

## مرحله 5️⃣: تنظیم Environment Variables در Replit

این مهم‌ترین بخش است! ⚠️

### روش تنظیم:

1. در Replit، از منوی سمت چپ، روی آیکون **Secrets** (قفل 🔒) کلیک کنید
   - یا از منوی **Tools** > **Secrets** استفاده کنید

2. سه متغیر محیطی زیر را اضافه کنید:

#### متغیر اول: VITE_SUPABASE_URL
- **Key**: `VITE_SUPABASE_URL`
- **Value**: آدرس Project URL که از Supabase کپی کردید
- مثال: `https://abcdefghijk.supabase.co`

#### متغیر دوم: VITE_SUPABASE_ANON_KEY
- **Key**: `VITE_SUPABASE_ANON_KEY`
- **Value**: کلید anon/public که از Supabase کپی کردید
- مثال: `eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...`

#### متغیر سوم: GEMINI_API_KEY
- **Key**: `GEMINI_API_KEY`
- **Value**: کلید Google Gemini که دریافت کردید
- مثال: `AIzaSyABC123...`

### نکته مهم:
- نام متغیرها باید **دقیقاً** همان‌طور که نوشته شده باشد (با حروف بزرگ و کوچک)
- متغیرهای Supabase باید با `VITE_` شروع شوند
- هیچ فضای خالی اضافه در ابتدا یا انتهای مقادیر نگذارید

## مرحله 6️⃣: اجرای برنامه

1. روی دکمه **Run** کلیک کنید (یا `Ctrl+Enter`)
2. Replit به طور خودکار:
   - بسته‌های npm را نصب می‌کند
   - سرور development را روی پورت 3000 اجرا می‌کند
   - برنامه را در پنجره Webview نمایش می‌دهد

3. اگر خطایی دریافت کردید، مطمئن شوید که:
   - همه متغیرهای محیطی درست تنظیم شده‌اند
   - نام متغیرها کاملاً مطابق راهنماست
   - پروژه Supabase به طور کامل ساخته شده است

## مرحله 7️⃣: تست برنامه

1. صفحه Landing را خواهید دید
2. روی دکمه **شروع کنید** کلیک کنید
3. یک حساب کاربری جدید بسازید:
   - ایمیل خود را وارد کنید
   - یک رمز عبور (حداقل 6 کاراکتر) وارد کنید
   - روی **Create Account** کلیک کنید

4. بعد از ورود، می‌توانید:
   - عکس لباس آپلود کنید
   - یک مدل انتخاب کنید
   - یک پس‌زمینه انتخاب کنید
   - روی **Generate Photoshoot** کلیک کنید

## عیب‌یابی (Troubleshooting)

### خطا: "Supabase credentials not configured"
- متغیرهای محیطی را دوباره بررسی کنید
- مطمئن شوید نام متغیرها دقیقاً صحیح است
- Repl را Restart کنید

### خطا: "Invalid login credentials"
- مطمئن شوید که Email Provider در Supabase فعال است
- رمز عبور حداقل 6 کاراکتر باشد

### خطا در تولید تصویر:
- مطمئن شوید GEMINI_API_KEY درست تنظیم شده است
- API key را از Google AI Studio دوباره بگیرید

### برنامه Load نمی‌شود:
- Console را باز کنید (F12) و خطاها را بررسی کنید
- Repl را Stop و دوباره Run کنید
- مطمئن شوید که پورت 3000 در دسترس است

## پشتیبانی

اگر مشکلی داشتید:
1. Console را بررسی کنید (F12 > Console)
2. Logs را در Replit بررسی کنید
3. مطمئن شوید همه dependency‌ها نصب شده‌اند: `npm install`

---

**موفق باشید! 🚀**
